/* Google Fonts - Variable fonts for all 4 writing fonts */
@import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,200..900;1,200..900&family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Literata:ital,opsz,wght@0,7..72,200..900;1,7..72,200..900&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap');

@import 'tailwindcss';

/* Theme colors */
:root {
	--bg-primary: #ffffff;
	--bg-secondary: #f8f9fa;
	--bg-tertiary: #e9ecef;
	--text-primary: #212529;
	--text-secondary: #495057;
	--text-muted: #6c757d;
	--border-color: #dee2e6;
	--accent-color: #4f46e5;
	--accent-hover: #4338ca;
	--success-color: #10b981;
	--warning-color: #f59e0b;
	--error-color: #ef4444;
}

[data-theme='dark'] {
	--bg-primary: #1a1a2e;
	--bg-secondary: #16213e;
	--bg-tertiary: #0f3460;
	--text-primary: #e8e8e8;
	--text-secondary: #b8b8b8;
	--text-muted: #888888;
	--border-color: #2d2d44;
	--accent-color: #818cf8;
	--accent-hover: #6366f1;
}

[data-theme='sepia'] {
	--bg-primary: #f4ecd8;
	--bg-secondary: #ede4cf;
	--bg-tertiary: #e6dbc6;
	--text-primary: #433422;
	--text-secondary: #5c4a35;
	--text-muted: #7a6850;
	--border-color: #d4c9b5;
	--accent-color: #8b5a2b;
	--accent-hover: #6d4823;
}

/* Base styles */
html,
body {
	height: 100%;
	margin: 0;
	padding: 0;
	overflow: hidden;
}

body {
	background-color: var(--bg-primary);
	color: var(--text-primary);
	font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	transition:
		background-color 0.2s ease,
		color 0.2s ease;
}

/* Font family classes */
.font-literata {
	font-family: 'Literata', Georgia, serif;
}

.font-crimson-pro {
	font-family: 'Crimson Pro', Georgia, serif;
}

.font-source-serif-4 {
	font-family: 'Source Serif 4', Georgia, serif;
}

.font-eb-garamond {
	font-family: 'EB Garamond', Georgia, serif;
}

/* Font size classes */
.text-size-small {
	font-size: 14px;
	line-height: 1.6;
}

.text-size-medium {
	font-size: 16px;
	line-height: 1.7;
}

.text-size-large {
	font-size: 18px;
	line-height: 1.8;
}

.text-size-xlarge {
	font-size: 20px;
	line-height: 1.8;
}

/* Writing editor specific styles */
.writing-editor {
	min-height: 100%;
	outline: none;
	caret-color: var(--accent-color);
}

.writing-editor:focus {
	outline: none;
}

/* Placeholder text */
.writing-editor:empty::before {
	content: attr(data-placeholder);
	color: var(--text-muted);
	pointer-events: none;
}

/* Custom scrollbar */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
	background: var(--border-color);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--text-muted);
}

/* Focus mode overlay */
.focus-mode-overlay {
	background: radial-gradient(
		ellipse at center,
		transparent 30%,
		rgba(0, 0, 0, 0.1) 70%,
		rgba(0, 0, 0, 0.3) 100%
	);
}

[data-theme='dark'] .focus-mode-overlay {
	background: radial-gradient(
		ellipse at center,
		transparent 30%,
		rgba(0, 0, 0, 0.2) 70%,
		rgba(0, 0, 0, 0.5) 100%
	);
}

/* Toast animations */
@keyframes toast-enter {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes toast-exit {
	from {
		opacity: 1;
		transform: translateY(0);
	}
	to {
		opacity: 0;
		transform: translateY(-10px);
	}
}

.toast-enter {
	animation: toast-enter 0.2s ease-out;
}

.toast-exit {
	animation: toast-exit 0.2s ease-in;
}

/* Branch flash animation */
@keyframes branch-flash {
	0% {
		background-color: var(--accent-color);
		opacity: 0.5;
	}
	100% {
		background-color: transparent;
		opacity: 0;
	}
}

.branch-flash {
	animation: branch-flash 0.5s ease-out;
}

/* Command palette styles */
.command-palette-backdrop {
	backdrop-filter: blur(4px);
}

/* Word count goal progress bar colors */
.progress-gray {
	background-color: var(--text-muted);
}

.progress-yellow {
	background-color: var(--warning-color);
}

.progress-green {
	background-color: var(--success-color);
}

.progress-red {
	background-color: var(--error-color);
}

/* Resize handle */
.resize-handle {
	cursor: col-resize;
	user-select: none;
	touch-action: none;
}

.resize-handle:hover {
	background-color: var(--accent-color);
}

/* Node selection in DAG */
.dag-node.selected {
	box-shadow: 0 0 0 2px var(--accent-color);
}

/* Smooth transitions */
.transition-colors {
	transition:
		background-color 0.15s ease,
		color 0.15s ease,
		border-color 0.15s ease;
}

/* Prevent text selection during drag */
.no-select {
	user-select: none;
	-webkit-user-select: none;
}

/* Svelte Flow customizations */
.svelte-flow {
	background-color: var(--bg-secondary) !important;
}

.svelte-flow__node {
	border-radius: 8px;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.svelte-flow__edge-path {
	stroke: var(--border-color);
	stroke-width: 2;
}

.svelte-flow__edge.selected .svelte-flow__edge-path {
	stroke: var(--accent-color);
	stroke-width: 3;
}

.svelte-flow__controls {
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.svelte-flow__minimap {
	background-color: var(--bg-tertiary) !important;
	border-radius: 4px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}
